{{ 'registration-form.css' | asset_url | stylesheet_tag }}

<div class="registration-page">
  <div class="registration-container page-width">
    <div class="registration-left-col">
      <h1 class="font-neue-light">{{ section.settings.page_heading }}</h1>
      <p class="font-neue-roman">{{ section.settings.dealer_content }}</p>

      <div class="font-neue-roman contact-via">{{ section.settings.contact_us_via }}</div>
      {% assign contact_email = section.settings.contact_email %}
      {% if contact_email != blank %}
        <div class="dealer-email-area">
          <span class="email-heading">{{ section.settings.contact_email_heading }}</span>
          <a href="mailto:{{ contact_email }}">{{ contact_email }}</a>
        </div>
      {% endif %}
      
      {% assign contact_phone = section.settings.contact_timings %}
      {% if contact_phone != blank %}
        <div class="dealer-phone-area">
          <span class="email-heading">{{ section.settings.contact_phone_heading }}</span>
          <div class="dealer-timings">{{ contact_phone }}
            <a href="tel:{{ section.settings.contact_phone_number }}">{{ section.settings.contact_phone_number }}</a>
          </div>  
        </div>
      {% endif %}
    </div>
    <div class="registration-right-col">
      <h2 class="form-heading font-neue-roman">{{ section.settings.registration_form_heading }}</h2>
      {%- form 'contact', class: 'inquiry-forms' -%}
        {% if form.posted_successfully? %}
            <div class="form-success font-neue-roman">
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="16" cy="16" r="16" fill="#28a745"/> <!-- Green background -->
              <path d="M10 16L14 20L22 12" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
              Thank you for your inquiry! We will get back to you shortly.
            </div>
          {% else %}
            <div class="inquiry-form">
              <div class="form-field-row">
                <div class="form-group">
                  <input type="text" id="FirstName" name="contact[first_name]" class="form-control" required>
                  <label class="field-label" for="FirstName">First Name*</label>
                </div>
              
                <div class="form-group">
                  <input type="text" id="LastName" name="contact[last_name]" class="form-control" required>
                  <label class="field-label" for="LastName">Last Name*</label>
                </div>
              </div>
              
              <div class="form-field-row">
                <div class="form-group">
                  <input type="text" id="BusinessName" name="contact[business_name]" class="form-control" required>
                  <label class="field-label" for="BusinessName">Business Name*</label>
                </div>
              </div>
              
              <div class="form-field-row">
                <div class="form-group b-email">
                  <input type="email" id="BusinessEmail" name="contact[email]" class="form-control" placeholder="Email" required>
                  <label class="field-label" for="BusinessEmail">Business Email*</label>
                </div>
              
                <div class="form-group">
                  <input type="tel" id="BusinessPhone" name="contact[phone]" class="form-control" required>
                  <label class="field-label" for="BusinessPhone">Business Phone*</label>
                </div>
              </div>
              
              <div class="form-field-row">
                <div class="form-group">
                  <div class="select-arrow">
                    <svg width="17" height="10" viewBox="0 0 17 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M8.62282 8.4032L15.5 1.52625L14.974 1L8.545 7.40251L2.11603 1L1.59 1.52625L8.545 8.48125L8.62282 8.4032Z" fill="#292521" stroke="#292521"></path>
                    </svg>
                  </div>
                  <label for="Country"></label>
                  <select id="Country" name="contact[country]" class="form-control" required>
                    <option value="">Select Country*</option>
                    <option value="United States">United States</option>
                    <option value="Canada">Canada</option>
                  </select>
                </div>
              </div>
              
              <div class="form-field-row">
                <div class="form-group">
                  <div class="select-arrow">
                    <svg width="17" height="10" viewBox="0 0 17 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M8.62282 8.4032L15.5 1.52625L14.974 1L8.545 7.40251L2.11603 1L1.59 1.52625L8.545 8.48125L8.62282 8.4032Z" fill="#292521" stroke="#292521"></path>
                    </svg>
                  </div>
                  <label for="State"></label>
                  <select id="State" name="contact[state]" class="form-control" required>
                    <option value="">Select State/Province*</option>
                  </select>
                </div>
              
                <div class="form-group">
                  <input type="text" id="ZipCode" name="contact[zip_code]" class="form-control" required>
                  <label class="field-label" for="ZipCode">Zip Code*</label>
                </div>
              </div>
              
              <div class="form-field-row">
                <div class="form-group sel-job-function">
                  <div class="select-arrow">
                    <svg width="17" height="10" viewBox="0 0 17 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M8.62282 8.4032L15.5 1.52625L14.974 1L8.545 7.40251L2.11603 1L1.59 1.52625L8.545 8.48125L8.62282 8.4032Z" fill="#292521" stroke="#292521"></path>
                    </svg>
                  </div>
                  <label for="JobFunction"></label>
                  <select id="JobFunction" name="contact[job_function]" class="form-control" required>
                    <option value="">Select One*</option>
                    <option value="Architect">Architect</option>
                    <option value="Builder">Builder</option>
                    <option value="Developer">Developer</option>
                    <option value="Distributor">Distributor</option>
                    <option value="Electrical Contractor">Electrical Contractor</option>
                    <option value="Electrical Designer">Electrical Engineer</option>
                    <option value="Home Owner">Homeowner</option>
                    <option value="Integrator">Integrator/Dealer</option>
                    <option value="Interior Designer">Interior Designer</option>
                    <option value="Lighting Designer">Lighting Designer</option>
                    <option value="Other">Other</option>
                  </select>
                </div>
              </div>
              
              <div class="form-field-row textarea-field">
                <div class="form-group">  
                  <textarea id="BusinessDescription" name="contact[business_description]" class="form-control" rows="4" required></textarea>
                  <label class="field-label" for="BusinessDescription">Describe your line of business*</label>
                </div>
              </div>
              
              <div class="form-field-row textarea-field">
                <div class="form-group">
                  <textarea id="Message" name="contact[body]" class="form-control" rows="4" required></textarea>
                  <label class="field-label" for="Message">Message*</label>
                </div>
              </div>
              
              <div class="form-desc font-neue-roman">
                {{ section.settings.form_content }}
              </div>
    
              <button type="submit" class="submit-btn"><span>Submit</span> 
                <svg width="22" height="22" viewBox="0 0 20 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M0.5 6.1873H18.5582H0.5Z" fill="white"/>
                  <path d="M13.0345 1L18.5582 6.1873L13.0345 1Z" fill="white"/>
                  <path d="M13.0345 11.41L18.5582 6.1873L13.0345 11.41Z" fill="white"/>
                  <path d="M0.5 6.1873H18.5582M18.5582 6.1873L13.0345 1M18.5582 6.1873L13.0345 11.41" stroke="white" stroke-width="1.5" stroke-miterlimit="10"/>
                </svg>
              </button>
            </div>
        {% endif %}
        {%- endform -%}
    </div>
  </div>
</div>

<script type="text/javascript">
  window.onload = function() {
    window.scrollTo(0, 0);
  };
</script>

<script>
  (function () {
    var countryEl = document.getElementById('Country');
    var stateEl   = document.getElementById('State');
  
    if (!countryEl || !stateEl) return;
  
    var STATES = {
      'United States': [
        'Alabama','Alaska','Arizona','Arkansas','California','Colorado','Connecticut','Delaware',
        'District of Columbia','Florida','Georgia','Hawaii','Idaho','Illinois','Indiana','Iowa',
        'Kansas','Kentucky','Louisiana','Maine','Maryland','Massachusetts','Michigan','Minnesota',
        'Mississippi','Missouri','Montana','Nebraska','Nevada','New Hampshire','New Jersey',
        'New Mexico','New York','North Carolina','North Dakota','Ohio','Oklahoma','Oregon',
        'Pennsylvania','Rhode Island','South Carolina','South Dakota','Tennessee','Texas','Utah',
        'Vermont','Virginia','Washington','West Virginia','Wisconsin','Wyoming'
      ],
      'Canada': [
        'Alberta','British Columbia','Manitoba','New Brunswick','Newfoundland and Labrador',
        'Northwest Territories','Nova Scotia','Nunavut','Ontario','Prince Edward Island','Quebec',
        'Saskatchewan','Yukon'
      ]
    };
  
    function populateStates() {
      var country = countryEl.value;
      stateEl.innerHTML = '<option value="">Select State/Province*</option>';
  
      if (STATES[country]) {
        STATES[country].forEach(function (name) {
          var opt = document.createElement('option');
          opt.value = name;
          opt.textContent = name;
          stateEl.appendChild(opt);
        });
      }
    }
  
    countryEl.addEventListener('change', populateStates);
    populateStates();
  })();
</script>

{% schema %}
{
  "name": "Registration form",
  "tag": "section",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "text",
      "id": "page_heading",
      "default": "New Dealer",
      "label": "Page Heading"
    },
    {
      "type": "textarea",
      "id": "dealer_content",
      "label": "Page content"
    },
    {
      "type": "text",
      "id": "contact_us_via",
      "label": "Contact Us Via Text"
    },
    {
      "type": "text",
      "id": "contact_email_heading",
      "default": "Email",
      "label": "Email heading"
    },
    {
      "type": "text",
      "id": "contact_email",
      "default": "portal@dmflighting.com",
      "label": "Enter Email"
    },
    {
      "type": "text",
      "id": "contact_phone_heading",
      "default": "Phone",
      "label": "Phone heading"
    },
    {
      "type": "inline_richtext",
      "id": "contact_timings",
      "label": "Timing details"
    },
    {
      "type": "text",
      "id": "contact_phone_number",
      "default": "Phone",
      "label": "Phone number"
    },
    {
      "type": "text",
      "id": "registration_form_heading",
      "default": "New Dealer Request",
      "label": "Registration form heading"
    },
    {
      "type": "textarea",
      "id": "form_content",
      "label": "Form content"
    }
  ],
  "presets": [
    {
      "name": "Registration form"
    }
  ]
}
{% endschema %}