{{ 'section-contact-form.css' | asset_url | stylesheet_tag }}

{%- style -%}

  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }  
{%- endstyle -%}

<div class="color-{{ section.settings.color_scheme }} gradient">
  <div class="contact page-width">
    
    <div class="contact-info-left">
      <h2 class="font-neue-light">{{ page.title }}</h2>
      <div class="font-neue-roman">{{ section.settings.address_txt }}</div>
      <p class="font-neue-roman">{{ section.settings.address_txt_1 }}<br>{{ section.settings.address_txt_2}}{{ section.settings.address_txt_3}}</p> <p class="font-neue-roman">{{ section.settings.address_txt_4}}<br>{{ section.settings.address_txt_5}}<br>{{ section.settings.address_txt_6}}</p>
    </div>
    
    <div class="contact-form-right">
      <h3 class="font-neue-roman">{{ section.settings.heading }}</h3>
      
    {%- liquid
      assign contact_form_class = 'isolate'
      if settings.animations_reveal_on_scroll
        assign contact_form_class = 'isolate scroll-trigger animate--slide-in'
      endif
    -%}
    {%- form 'contact', id: 'ContactForm', class: contact_form_class -%}
      {%- if form.posted_successfully? -%}
        <h2 class="form-status form-status-list form__message" tabindex="-1" autofocus>
          {% render 'icon-success' %}
          {{ 'templates.contact.form.post_success' | t }}
        </h2>
      {%- elsif form.errors -%}
        <div class="form__message">
          <h2 class="form-status caption-large text-body" role="alert" tabindex="-1" autofocus>
            {% render 'icon-error' %}
            {{ 'templates.contact.form.error_heading' | t }}
          </h2>
        </div>
        <ul class="form-status-list caption-large" role="list">
          <li>
            <a href="#ContactForm-email" class="link">
              {{ form.errors.translated_fields.email | capitalize }}
              {{ form.errors.messages.email }}
            </a>
          </li>
        </ul>
      {%- endif -%}
      <div class="contact__fields">
        <div class="field">
          <input
            class="field__input"
            autocomplete="name"
            type="text"
            id="ContactForm-firstname"
            name="contact[first_name]"
            value="{% if form.first_name %}{{ form.first_name }}{% elsif customer %}{{ customer.first_name }}{% endif %}"
            placeholder="First Name*"
            
            required="required"
          >
          <label class="field__label" for="ContactForm-firstname">First Name*</label>
        </div>
        <div class="field">
          <input
            class="field__input"
            autocomplete="name"
            type="text"
            id="ContactForm-lastname"
            name="contact[last_name]"
            value="{% if form.last_name %}{{ form.last_name }}{% elsif customer %}{{ customer.last_name }}{% endif %}"
            placeholder="Last Name*"
      
            required="required"
          >
          <label class="field__label" for="ContactForm-lastname">Last Name*</label>
        </div>
        <div class="field field--with-error">
          <input
            autocomplete="email"
            type="email"
            id="ContactForm-email"
            class="field__input"
            name="contact[email]"
            spellcheck="false"
            autocapitalize="off"
            required="required"
            value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}"
            aria-required="true"
            {% if form.errors contains 'email' %}
              aria-invalid="true"
              aria-describedby="ContactForm-email-error"
            {% endif %}
            placeholder="{{ 'templates.contact.form.email' | t }}"
          >
          <label class="field__label" for="ContactForm-email">
            Email
            <span aria-hidden="true">*</span></label
          >
          {%- if form.errors contains 'email' -%}
            <small class="contact__field-error" id="ContactForm-email-error">
              <span class="visually-hidden">{{ 'accessibility.error' | t }}</span>
              <span class="form__message">
                {%- render 'icon-error' -%}
                {{- form.errors.translated_fields.email | capitalize }}
                {{ form.errors.messages.email -}}
              </span>
            </small>
          {%- endif -%}
        </div>
      <div class="field">
        <input
          type="tel"
          id="ContactForm-phone"
          class="field__input"
          autocomplete="tel"
          name="contact[{{ 'templates.contact.form.phone' | t }}]"
          pattern="[0-9\-]*"
          value="{% if form.phone %}{{ form.phone }}{% elsif customer %}{{ customer.phone }}{% endif %}"
          placeholder="{{ 'templates.contact.form.phone' | t }}"
          required="required"
        >
        <label class="field__label" for="ContactForm-phone">Phone*</label>
      </div>
      </div>
        <div class="job-function">
          <div class="select-arrow">
            <svg width="17" height="10" viewBox="0 0 17 10" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8.62282 8.4032L15.5 1.52625L14.974 1L8.545 7.40251L2.11603 1L1.59 1.52625L8.545 8.48125L8.62282 8.4032Z" fill="#292521" stroke="#292521"/>
            </svg>
          </div>
          <select id="job-function" class="select__select" name="contact[job-function]" required="required">
            <option value="">Select One*</option>
            <option value="Architect">Architect</option>
            <option value="Builder">Builder</option>
            <option value="Developer">Developer</option>
            <option value="Distributor">Distributor</option>
            <option value="Electrical Contractor">Electrical Contractor</option>
            <option value="Electrical Designer">Electrical Engineer</option>
            <option value="Home Owner">Homeowner</option>
            <option value="Integrator">Integrator/Dealer</option>
            <option value="Interior Designer">Interior Designer</option>
            <option value="Lighting Designer">Lighting Designer</option>
            <option value="Other">Other</option>
          </select>
        </div>
      
      <!-- Country -->
      <div class="field">
        <div class="select-arrow">
          <svg width="17" height="10" viewBox="0 0 17 10" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.62282 8.4032L15.5 1.52625L14.974 1L8.545 7.40251L2.11603 1L1.59 1.52625L8.545 8.48125L8.62282 8.4032Z" fill="#292521" stroke="#292521"/>
          </svg>
        </div>
        <select id="ContactForm-country" class="select__select" name="contact[country]" required="required">
          <option value="">Select Country*</option>
          <option value="United States">United States</option>
          <option value="Canada">Canada</option>
        </select>
      </div>

      <!-- State / Province -->
      <div class="field">
        <div class="select-arrow">
          <svg width="17" height="10" viewBox="0 0 17 10" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8.62282 8.4032L15.5 1.52625L14.974 1L8.545 7.40251L2.11603 1L1.59 1.52625L8.545 8.48125L8.62282 8.4032Z" fill="#292521" stroke="#292521"/>
          </svg>
        </div>
        <select id="ContactForm-state" class="select__select" name="contact[state]" required="required">
          <option value="">Select State/Province*</option>
        </select>
      </div>

      <!-- ZIP / Postal Code -->
      <div class="field">
        <input
          type="text"
          id="ContactForm-zip"
          class="field__input"
          name="contact[zip]"
          placeholder="ZIP / Postal Code*"
          required="required"
          inputmode="text"
          autocomplete="postal-code"
        >
        <label class="field__label" for="ContactForm-zip">ZIP / Postal Code*</label>
      </div>

      <div class="field">
        <textarea
          rows="10"
          id="ContactForm-body"
          class="text-area field__input"
          name="contact[{{ 'templates.contact.form.comment' | t }}]"
          placeholder="Message"
          required="required"
        >
          {{- form.body -}}
        </textarea>
        <label class="form__label field__label" for="ContactForm-body">
          Message
        </label>
      </div>
      <p class="font-neue-roman contact-pg-info">
          By submitting this form, you agree to receive information about DMF Lighting products, promotions, and news. You can opt out of communication at any time and your data will never be sold.
      </p>
      <div class="contact__button">
        <button type="submit" class="button">
          <span>Submit</span>
          <svg width="22" height="22" viewBox="0 0 20 12" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.5 6.1873H18.5582H0.5Z" fill="white"/>
            <path d="M13.0345 1L18.5582 6.1873L13.0345 1Z" fill="white"/>
            <path d="M13.0345 11.41L18.5582 6.1873L13.0345 11.41Z" fill="white"/>
            <path d="M0.5 6.1873H18.5582M18.5582 6.1873L13.0345 1M18.5582 6.1873L13.0345 11.41" stroke="white" stroke-width="1.5" stroke-miterlimit="10"/>
            </svg>
        </button>
      </div>
    {%- endform -%}
    </div>
  </div>
</div>

<script>
  (function () {
    var countryEl = document.getElementById('ContactForm-country');
    var stateEl   = document.getElementById('ContactForm-state');
  
    if (!countryEl || !stateEl) return;
  
    var STATES = {
      'United States': [
        'Alabama','Alaska','Arizona','Arkansas','California','Colorado','Connecticut','Delaware',
        'District of Columbia','Florida','Georgia','Hawaii','Idaho','Illinois','Indiana','Iowa',
        'Kansas','Kentucky','Louisiana','Maine','Maryland','Massachusetts','Michigan','Minnesota',
        'Mississippi','Missouri','Montana','Nebraska','Nevada','New Hampshire','New Jersey',
        'New Mexico','New York','North Carolina','North Dakota','Ohio','Oklahoma','Oregon',
        'Pennsylvania','Rhode Island','South Carolina','South Dakota','Tennessee','Texas','Utah',
        'Vermont','Virginia','Washington','West Virginia','Wisconsin','Wyoming'
      ],
      'Canada': [
        'Alberta','British Columbia','Manitoba','New Brunswick','Newfoundland and Labrador',
        'Northwest Territories','Nova Scotia','Nunavut','Ontario','Prince Edward Island','Quebec',
        'Saskatchewan','Yukon'
      ]
    };
  
    function populateStates() {
      var country = countryEl.value;
      stateEl.innerHTML = '<option value="">Select State/Province*</option>';
  
      if (STATES[country]) {
        STATES[country].forEach(function (name) {
          var opt = document.createElement('option');
          opt.value = name;
          opt.textContent = name;
          stateEl.appendChild(opt);
        });
      }
    }
  
    countryEl.addEventListener('change', populateStates);
    populateStates(); // initial load
  })();
</script>


{% schema %}
{
  "name": "t:sections.contact-form.name",
  "tag": "section",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "default": "t:sections.contact-form.settings.title.default",
      "label": "t:sections.contact-form.settings.title.label"
    },
    {
      "type": "textarea",
      "id": "address_txt_1",
      "default": "323.934.7779  ",
      "label": "Address Text 1"
    },
        {
      "type": "textarea",
      "id": "address_txt_2",
      "default": " Mon – Fri, 5:30am – 6pm PT ",
      "label": "Address Text 2"
    },
        {
      "type": "inline_richtext",
      "id": "address_txt_3",
      "default": "info@dmflighting.com",
      "label": "Address Text 3"
    },
    {
      "type": "textarea",
      "id": "address_txt_4",
      "default": "   1118 East 223rd Street  Carson, CA 90745 ",
      "label": "Address Text 4"
    },
    {
      "type": "textarea",
      "id": "address_txt_5",
      "default": "CA 90745 ",
      "label": "Address Text 5"
    },
    {
      "type": "inline_richtext",
      "id": "address_txt_6",
      "default": "Directions",
      "label": "Address Text 6"
    },
    {
      "type": "select",
      "id": "heading_size",
      "options": [
        {
          "value": "h2",
          "label": "t:sections.all.heading_size.options__1.label"
        },
        {
          "value": "h1",
          "label": "t:sections.all.heading_size.options__2.label"
        },
        {
          "value": "h0",
          "label": "t:sections.all.heading_size.options__3.label"
        },
        {
          "value": "hxl",
          "label": "t:sections.all.heading_size.options__4.label"
        },
        {
          "value": "hxxl",
          "label": "t:sections.all.heading_size.options__5.label"
        }
      ],
      "default": "h1",
      "label": "t:sections.all.heading_size.label"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 36
    }
  ],
  "presets": [
    {
      "name": "t:sections.contact-form.presets.name"
    }
  ]
}
{% endschema %}
